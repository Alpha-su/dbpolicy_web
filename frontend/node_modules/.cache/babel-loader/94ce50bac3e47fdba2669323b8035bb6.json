{"remainingRequest":"/home/glsu/repo/dbpolicy_web/frontend/node_modules/babel-loader/lib/index.js!/home/glsu/repo/dbpolicy_web/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/glsu/repo/dbpolicy_web/frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/glsu/repo/dbpolicy_web/frontend/src/components/Tinymce/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/glsu/repo/dbpolicy_web/frontend/src/components/Tinymce/index.vue","mtime":1627103580656},{"path":"/home/glsu/repo/dbpolicy_web/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/glsu/repo/dbpolicy_web/frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/glsu/repo/dbpolicy_web/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/glsu/repo/dbpolicy_web/frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLnRvLWZpeGVkLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgovKioKICogZG9jczoKICogaHR0cHM6Ly9wYW5qaWFjaGVuLmdpdGh1Yi5pby92dWUtZWxlbWVudC1hZG1pbi1zaXRlL2ZlYXR1cmUvY29tcG9uZW50L3JpY2gtZWRpdG9yLmh0bWwjdGlueW1jZQogKi8KaW1wb3J0IGVkaXRvckltYWdlIGZyb20gJy4vY29tcG9uZW50cy9FZGl0b3JJbWFnZSc7CmltcG9ydCBwbHVnaW5zIGZyb20gJy4vcGx1Z2lucyc7CmltcG9ydCB0b29sYmFyIGZyb20gJy4vdG9vbGJhcic7CmltcG9ydCBsb2FkIGZyb20gJy4vZHluYW1pY0xvYWRTY3JpcHQnOyAvLyB3aHkgdXNlIHRoaXMgY2RuLCBkZXRhaWwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9QYW5KaWFDaGVuL3RpbnltY2UtYWxsLWluLW9uZQoKdmFyIHRpbnltY2VDRE4gPSAnaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS90aW55bWNlLWFsbC1pbi1vbmVANC45LjMvdGlueW1jZS5taW4uanMnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1RpbnltY2UnLAogIGNvbXBvbmVudHM6IHsKICAgIGVkaXRvckltYWdlOiBlZGl0b3JJbWFnZQogIH0sCiAgcHJvcHM6IHsKICAgIGlkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuICd2dWUtdGlueW1jZS0nICsgK25ldyBEYXRlKCkgKyAoKE1hdGgucmFuZG9tKCkgKiAxMDAwKS50b0ZpeGVkKDApICsgJycpOwogICAgICB9CiAgICB9LAogICAgdmFsdWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnJwogICAgfSwKICAgIHRvb2xiYXI6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogZnVuY3Rpb24gX2RlZmF1bHQoKSB7CiAgICAgICAgcmV0dXJuIFtdOwogICAgICB9CiAgICB9LAogICAgbWVudWJhcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICdmaWxlIGVkaXQgaW5zZXJ0IHZpZXcgZm9ybWF0IHRhYmxlJwogICAgfSwKICAgIGhlaWdodDogewogICAgICB0eXBlOiBbTnVtYmVyLCBTdHJpbmddLAogICAgICByZXF1aXJlZDogZmFsc2UsCiAgICAgIGRlZmF1bHQ6IDM2MAogICAgfSwKICAgIHdpZHRoOiB7CiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sCiAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgZGVmYXVsdDogJ2F1dG8nCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaGFzQ2hhbmdlOiBmYWxzZSwKICAgICAgaGFzSW5pdDogZmFsc2UsCiAgICAgIHRpbnltY2VJZDogdGhpcy5pZCwKICAgICAgZnVsbHNjcmVlbjogZmFsc2UsCiAgICAgIGxhbmd1YWdlVHlwZUxpc3Q6IHsKICAgICAgICAnZW4nOiAnZW4nLAogICAgICAgICd6aCc6ICd6aF9DTicsCiAgICAgICAgJ2VzJzogJ2VzX01YJywKICAgICAgICAnamEnOiAnamEnCiAgICAgIH0KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgY29udGFpbmVyV2lkdGg6IGZ1bmN0aW9uIGNvbnRhaW5lcldpZHRoKCkgewogICAgICB2YXIgd2lkdGggPSB0aGlzLndpZHRoOwoKICAgICAgaWYgKC9eW1xkXSsoXC5bXGRdKyk/JC8udGVzdCh3aWR0aCkpIHsKICAgICAgICAvLyBtYXRjaGVzIGAxMDBgLCBgJzEwMCdgCiAgICAgICAgcmV0dXJuICIiLmNvbmNhdCh3aWR0aCwgInB4Iik7CiAgICAgIH0KCiAgICAgIHJldHVybiB3aWR0aDsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICB2YWx1ZTogZnVuY3Rpb24gdmFsdWUodmFsKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgaWYgKCF0aGlzLmhhc0NoYW5nZSAmJiB0aGlzLmhhc0luaXQpIHsKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICByZXR1cm4gd2luZG93LnRpbnltY2UuZ2V0KF90aGlzMi50aW55bWNlSWQpLnNldENvbnRlbnQodmFsIHx8ICcnKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuaW5pdCgpOwogIH0sCiAgYWN0aXZhdGVkOiBmdW5jdGlvbiBhY3RpdmF0ZWQoKSB7CiAgICBpZiAod2luZG93LnRpbnltY2UpIHsKICAgICAgdGhpcy5pbml0VGlueW1jZSgpOwogICAgfQogIH0sCiAgZGVhY3RpdmF0ZWQ6IGZ1bmN0aW9uIGRlYWN0aXZhdGVkKCkgewogICAgdGhpcy5kZXN0cm95VGlueW1jZSgpOwogIH0sCiAgZGVzdHJveWVkOiBmdW5jdGlvbiBkZXN0cm95ZWQoKSB7CiAgICB0aGlzLmRlc3Ryb3lUaW55bWNlKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBpbml0OiBmdW5jdGlvbiBpbml0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIC8vIGR5bmFtaWMgbG9hZCB0aW55bWNlIGZyb20gY2RuCiAgICAgIGxvYWQodGlueW1jZUNETiwgZnVuY3Rpb24gKGVycikgewogICAgICAgIGlmIChlcnIpIHsKICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5lcnJvcihlcnIubWVzc2FnZSk7CgogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgX3RoaXMzLmluaXRUaW55bWNlKCk7CiAgICAgIH0pOwogICAgfSwKICAgIGluaXRUaW55bWNlOiBmdW5jdGlvbiBpbml0VGlueW1jZSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgd2luZG93LnRpbnltY2UuaW5pdCh7CiAgICAgICAgc2VsZWN0b3I6ICIjIi5jb25jYXQodGhpcy50aW55bWNlSWQpLAogICAgICAgIGxhbmd1YWdlOiB0aGlzLmxhbmd1YWdlVHlwZUxpc3RbJ2VuJ10sCiAgICAgICAgaGVpZ2h0OiB0aGlzLmhlaWdodCwKICAgICAgICBib2R5X2NsYXNzOiAncGFuZWwtYm9keSAnLAogICAgICAgIG9iamVjdF9yZXNpemluZzogZmFsc2UsCiAgICAgICAgdG9vbGJhcjogdGhpcy50b29sYmFyLmxlbmd0aCA+IDAgPyB0aGlzLnRvb2xiYXIgOiB0b29sYmFyLAogICAgICAgIG1lbnViYXI6IHRoaXMubWVudWJhciwKICAgICAgICBwbHVnaW5zOiBwbHVnaW5zLAogICAgICAgIGVuZF9jb250YWluZXJfb25fZW1wdHlfYmxvY2s6IHRydWUsCiAgICAgICAgcG93ZXJwYXN0ZV93b3JkX2ltcG9ydDogJ2NsZWFuJywKICAgICAgICBjb2RlX2RpYWxvZ19oZWlnaHQ6IDQ1MCwKICAgICAgICBjb2RlX2RpYWxvZ193aWR0aDogMTAwMCwKICAgICAgICBhZHZsaXN0X2J1bGxldF9zdHlsZXM6ICdzcXVhcmUnLAogICAgICAgIGFkdmxpc3RfbnVtYmVyX3N0eWxlczogJ2RlZmF1bHQnLAogICAgICAgIGltYWdldG9vbHNfY29yc19ob3N0czogWyd3d3cudGlueW1jZS5jb20nLCAnY29kZXBlbi5pbyddLAogICAgICAgIGRlZmF1bHRfbGlua190YXJnZXQ6ICdfYmxhbmsnLAogICAgICAgIGxpbmtfdGl0bGU6IGZhbHNlLAogICAgICAgIG5vbmJyZWFraW5nX2ZvcmNlX3RhYjogdHJ1ZSwKICAgICAgICAvLyBpbnNlcnRpbmcgbm9uYnJlYWtpbmcgc3BhY2UgJm5ic3A7IG5lZWQgTm9uYnJlYWtpbmcgU3BhY2UgUGx1Z2luCiAgICAgICAgaW5pdF9pbnN0YW5jZV9jYWxsYmFjazogZnVuY3Rpb24gaW5pdF9pbnN0YW5jZV9jYWxsYmFjayhlZGl0b3IpIHsKICAgICAgICAgIGlmIChfdGhpcy52YWx1ZSkgewogICAgICAgICAgICBlZGl0b3Iuc2V0Q29udGVudChfdGhpcy52YWx1ZSk7CiAgICAgICAgICB9CgogICAgICAgICAgX3RoaXMuaGFzSW5pdCA9IHRydWU7CiAgICAgICAgICBlZGl0b3Iub24oJ05vZGVDaGFuZ2UgQ2hhbmdlIEtleVVwIFNldENvbnRlbnQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIF90aGlzNC5oYXNDaGFuZ2UgPSB0cnVlOwoKICAgICAgICAgICAgX3RoaXM0LiRlbWl0KCdpbnB1dCcsIGVkaXRvci5nZXRDb250ZW50KCkpOwogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoZWRpdG9yKSB7CiAgICAgICAgICBlZGl0b3Iub24oJ0Z1bGxzY3JlZW5TdGF0ZUNoYW5nZWQnLCBmdW5jdGlvbiAoZSkgewogICAgICAgICAgICBfdGhpcy5mdWxsc2NyZWVuID0gZS5zdGF0ZTsKICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgLy8gaXQgd2lsbCB0cnkgdG8ga2VlcCB0aGVzZSBVUkxzIGludGFjdAogICAgICAgIC8vIGh0dHBzOi8vd3d3LnRpbnkuY2xvdWQvZG9jcy0zeC9yZWZlcmVuY2UvY29uZmlndXJhdGlvbi9Db25maWd1cmF0aW9uM3hAY29udmVydF91cmxzLwogICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzUxOTYyMDUvZGlzYWJsZS10aW55bWNlLWFic29sdXRlLXRvLXJlbGF0aXZlLXVybC1jb252ZXJzaW9ucwogICAgICAgIGNvbnZlcnRfdXJsczogZmFsc2UgLy8g5pW05ZCI5LiD54mb5LiK5LygCiAgICAgICAgLy8gaW1hZ2VzX2RhdGFpbWdfZmlsdGVyKGltZykgewogICAgICAgIC8vICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgLy8gICAgIGNvbnN0ICRpbWFnZSA9ICQoaW1nKTsKICAgICAgICAvLyAgICAgJGltYWdlLnJlbW92ZUF0dHIoJ3dpZHRoJyk7CiAgICAgICAgLy8gICAgICRpbWFnZS5yZW1vdmVBdHRyKCdoZWlnaHQnKTsKICAgICAgICAvLyAgICAgaWYgKCRpbWFnZVswXS5oZWlnaHQgJiYgJGltYWdlWzBdLndpZHRoKSB7CiAgICAgICAgLy8gICAgICAgJGltYWdlLmF0dHIoJ2RhdGEtd3NjbnR5cGUnLCAnaW1hZ2UnKTsKICAgICAgICAvLyAgICAgICAkaW1hZ2UuYXR0cignZGF0YS13c2NuaCcsICRpbWFnZVswXS5oZWlnaHQpOwogICAgICAgIC8vICAgICAgICRpbWFnZS5hdHRyKCdkYXRhLXdzY253JywgJGltYWdlWzBdLndpZHRoKTsKICAgICAgICAvLyAgICAgICAkaW1hZ2UuYWRkQ2xhc3MoJ3dzY25waCcpOwogICAgICAgIC8vICAgICB9CiAgICAgICAgLy8gICB9LCAwKTsKICAgICAgICAvLyAgIHJldHVybiBpbWcKICAgICAgICAvLyB9LAogICAgICAgIC8vIGltYWdlc191cGxvYWRfaGFuZGxlcihibG9iSW5mbywgc3VjY2VzcywgZmFpbHVyZSwgcHJvZ3Jlc3MpIHsKICAgICAgICAvLyAgIHByb2dyZXNzKDApOwogICAgICAgIC8vICAgY29uc3QgdG9rZW4gPSBfdGhpcy4kc3RvcmUuZ2V0dGVycy50b2tlbjsKICAgICAgICAvLyAgIGdldFRva2VuKHRva2VuKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAvLyAgICAgY29uc3QgdXJsID0gcmVzcG9uc2UuZGF0YS5xaW5pdV91cmw7CiAgICAgICAgLy8gICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgICAgLy8gICAgIGZvcm1EYXRhLmFwcGVuZCgndG9rZW4nLCByZXNwb25zZS5kYXRhLnFpbml1X3Rva2VuKTsKICAgICAgICAvLyAgICAgZm9ybURhdGEuYXBwZW5kKCdrZXknLCByZXNwb25zZS5kYXRhLnFpbml1X2tleSk7CiAgICAgICAgLy8gICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGJsb2JJbmZvLmJsb2IoKSwgdXJsKTsKICAgICAgICAvLyAgICAgdXBsb2FkKGZvcm1EYXRhKS50aGVuKCgpID0+IHsKICAgICAgICAvLyAgICAgICBzdWNjZXNzKHVybCk7CiAgICAgICAgLy8gICAgICAgcHJvZ3Jlc3MoMTAwKTsKICAgICAgICAvLyAgICAgfSkKICAgICAgICAvLyAgIH0pLmNhdGNoKGVyciA9PiB7CiAgICAgICAgLy8gICAgIGZhaWx1cmUoJ+WHuueOsOacquefpemXrumimO+8jOWIt+aWsOmhtemdou+8jOaIluiAheiBlOezu+eoi+W6j+WRmCcpCiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgLy8gICB9KTsKICAgICAgICAvLyB9LAoKICAgICAgfSk7CiAgICB9LAogICAgZGVzdHJveVRpbnltY2U6IGZ1bmN0aW9uIGRlc3Ryb3lUaW55bWNlKCkgewogICAgICB2YXIgdGlueW1jZSA9IHdpbmRvdy50aW55bWNlLmdldCh0aGlzLnRpbnltY2VJZCk7CgogICAgICBpZiAodGhpcy5mdWxsc2NyZWVuKSB7CiAgICAgICAgdGlueW1jZS5leGVjQ29tbWFuZCgnbWNlRnVsbFNjcmVlbicpOwogICAgICB9CgogICAgICBpZiAodGlueW1jZSkgewogICAgICAgIHRpbnltY2UuZGVzdHJveSgpOwogICAgICB9CiAgICB9LAogICAgc2V0Q29udGVudDogZnVuY3Rpb24gc2V0Q29udGVudCh2YWx1ZSkgewogICAgICB3aW5kb3cudGlueW1jZS5nZXQodGhpcy50aW55bWNlSWQpLnNldENvbnRlbnQodmFsdWUpOwogICAgfSwKICAgIGdldENvbnRlbnQ6IGZ1bmN0aW9uIGdldENvbnRlbnQoKSB7CiAgICAgIHdpbmRvdy50aW55bWNlLmdldCh0aGlzLnRpbnltY2VJZCkuZ2V0Q29udGVudCgpOwogICAgfSwKICAgIGltYWdlU3VjY2Vzc0NCSzogZnVuY3Rpb24gaW1hZ2VTdWNjZXNzQ0JLKGFycikgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIGFyci5mb3JFYWNoKGZ1bmN0aW9uICh2KSB7CiAgICAgICAgcmV0dXJuIHdpbmRvdy50aW55bWNlLmdldChfdGhpczUudGlueW1jZUlkKS5pbnNlcnRDb250ZW50KCI8aW1nIGNsYXNzPVwid3NjbnBoXCIgc3JjPVwiIi5jb25jYXQodi51cmwsICJcIiA+IikpOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAUA;AACA;AACA;AACA;AACA,OAAA,WAAA,MAAA,0BAAA;AACA,OAAA,OAAA,MAAA,WAAA;AACA,OAAA,OAAA,MAAA,WAAA;AACA,OAAA,IAAA,MAAA,qBAAA,C,CAEA;;AACA,IAAA,UAAA,GAAA,sEAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,SADA;AAEA,EAAA,UAAA,EAAA;AAAA,IAAA,WAAA,EAAA;AAAA,GAFA;AAGA,EAAA,KAAA,EAAA;AACA,IAAA,EAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA,oBAAA;AACA,eAAA,iBAAA,CAAA,IAAA,IAAA,EAAA,IAAA,CAAA,IAAA,CAAA,MAAA,KAAA,IAAA,EAAA,OAAA,CAAA,CAAA,IAAA,EAAA,CAAA;AACA;AAJA,KADA;AAOA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAPA;AAWA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,KADA;AAEA,MAAA,QAAA,EAAA,KAFA;AAGA,MAAA,OAHA,sBAGA;AACA,eAAA,EAAA;AACA;AALA,KAXA;AAkBA,IAAA,OAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAlBA;AAsBA,IAAA,MAAA,EAAA;AACA,MAAA,IAAA,EAAA,CAAA,MAAA,EAAA,MAAA,CADA;AAEA,MAAA,QAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA;AAHA,KAtBA;AA2BA,IAAA,KAAA,EAAA;AACA,MAAA,IAAA,EAAA,CAAA,MAAA,EAAA,MAAA,CADA;AAEA,MAAA,QAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA;AAHA;AA3BA,GAHA;AAoCA,EAAA,IApCA,kBAoCA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,KADA;AAEA,MAAA,OAAA,EAAA,KAFA;AAGA,MAAA,SAAA,EAAA,KAAA,EAHA;AAIA,MAAA,UAAA,EAAA,KAJA;AAKA,MAAA,gBAAA,EAAA;AACA,cAAA,IADA;AAEA,cAAA,OAFA;AAGA,cAAA,OAHA;AAIA,cAAA;AAJA;AALA,KAAA;AAYA,GAjDA;AAkDA,EAAA,QAAA,EAAA;AACA,IAAA,cADA,4BACA;AACA,UAAA,KAAA,GAAA,KAAA,KAAA;;AACA,UAAA,oBAAA,IAAA,CAAA,KAAA,CAAA,EAAA;AAAA;AACA,yBAAA,KAAA;AACA;;AACA,aAAA,KAAA;AACA;AAPA,GAlDA;AA2DA,EAAA,KAAA,EAAA;AACA,IAAA,KADA,iBACA,GADA,EACA;AAAA;;AACA,UAAA,CAAA,KAAA,SAAA,IAAA,KAAA,OAAA,EAAA;AACA,aAAA,SAAA,CAAA;AAAA,iBACA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,SAAA,EAAA,UAAA,CAAA,GAAA,IAAA,EAAA,CADA;AAAA,SAAA;AAEA;AACA;AANA,GA3DA;AAmEA,EAAA,OAnEA,qBAmEA;AACA,SAAA,IAAA;AACA,GArEA;AAsEA,EAAA,SAtEA,uBAsEA;AACA,QAAA,MAAA,CAAA,OAAA,EAAA;AACA,WAAA,WAAA;AACA;AACA,GA1EA;AA2EA,EAAA,WA3EA,yBA2EA;AACA,SAAA,cAAA;AACA,GA7EA;AA8EA,EAAA,SA9EA,uBA8EA;AACA,SAAA,cAAA;AACA,GAhFA;AAiFA,EAAA,OAAA,EAAA;AACA,IAAA,IADA,kBACA;AAAA;;AACA;AACA,MAAA,IAAA,CAAA,UAAA,EAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,EAAA;AACA,UAAA,MAAA,CAAA,QAAA,CAAA,KAAA,CAAA,GAAA,CAAA,OAAA;;AACA;AACA;;AACA,QAAA,MAAA,CAAA,WAAA;AACA,OANA,CAAA;AAOA,KAVA;AAWA,IAAA,WAXA,yBAWA;AAAA;;AACA,UAAA,KAAA,GAAA,IAAA;;AACA,MAAA,MAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AACA,QAAA,QAAA,aAAA,KAAA,SAAA,CADA;AAEA,QAAA,QAAA,EAAA,KAAA,gBAAA,CAAA,IAAA,CAFA;AAGA,QAAA,MAAA,EAAA,KAAA,MAHA;AAIA,QAAA,UAAA,EAAA,aAJA;AAKA,QAAA,eAAA,EAAA,KALA;AAMA,QAAA,OAAA,EAAA,KAAA,OAAA,CAAA,MAAA,GAAA,CAAA,GAAA,KAAA,OAAA,GAAA,OANA;AAOA,QAAA,OAAA,EAAA,KAAA,OAPA;AAQA,QAAA,OAAA,EAAA,OARA;AASA,QAAA,4BAAA,EAAA,IATA;AAUA,QAAA,sBAAA,EAAA,OAVA;AAWA,QAAA,kBAAA,EAAA,GAXA;AAYA,QAAA,iBAAA,EAAA,IAZA;AAaA,QAAA,qBAAA,EAAA,QAbA;AAcA,QAAA,qBAAA,EAAA,SAdA;AAeA,QAAA,qBAAA,EAAA,CAAA,iBAAA,EAAA,YAAA,CAfA;AAgBA,QAAA,mBAAA,EAAA,QAhBA;AAiBA,QAAA,UAAA,EAAA,KAjBA;AAkBA,QAAA,qBAAA,EAAA,IAlBA;AAkBA;AACA,QAAA,sBAAA,EAAA,gCAAA,MAAA,EAAA;AACA,cAAA,KAAA,CAAA,KAAA,EAAA;AACA,YAAA,MAAA,CAAA,UAAA,CAAA,KAAA,CAAA,KAAA;AACA;;AACA,UAAA,KAAA,CAAA,OAAA,GAAA,IAAA;AACA,UAAA,MAAA,CAAA,EAAA,CAAA,oCAAA,EAAA,YAAA;AACA,YAAA,MAAA,CAAA,SAAA,GAAA,IAAA;;AACA,YAAA,MAAA,CAAA,KAAA,CAAA,OAAA,EAAA,MAAA,CAAA,UAAA,EAAA;AACA,WAHA;AAIA,SA5BA;AA6BA,QAAA,KA7BA,iBA6BA,MA7BA,EA6BA;AACA,UAAA,MAAA,CAAA,EAAA,CAAA,wBAAA,EAAA,UAAA,CAAA,EAAA;AACA,YAAA,KAAA,CAAA,UAAA,GAAA,CAAA,CAAA,KAAA;AACA,WAFA;AAGA,SAjCA;AAkCA;AACA;AACA;AACA,QAAA,YAAA,EAAA,KArCA,CAsCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAtEA,OAAA;AAwEA,KArFA;AAsFA,IAAA,cAtFA,4BAsFA;AACA,UAAA,OAAA,GAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,KAAA,SAAA,CAAA;;AACA,UAAA,KAAA,UAAA,EAAA;AACA,QAAA,OAAA,CAAA,WAAA,CAAA,eAAA;AACA;;AAEA,UAAA,OAAA,EAAA;AACA,QAAA,OAAA,CAAA,OAAA;AACA;AACA,KA/FA;AAgGA,IAAA,UAhGA,sBAgGA,KAhGA,EAgGA;AACA,MAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,KAAA,SAAA,EAAA,UAAA,CAAA,KAAA;AACA,KAlGA;AAmGA,IAAA,UAnGA,wBAmGA;AACA,MAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,KAAA,SAAA,EAAA,UAAA;AACA,KArGA;AAsGA,IAAA,eAtGA,2BAsGA,GAtGA,EAsGA;AAAA;;AACA,MAAA,GAAA,CAAA,OAAA,CAAA,UAAA,CAAA;AAAA,eAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,MAAA,CAAA,SAAA,EAAA,aAAA,uCAAA,CAAA,CAAA,GAAA,UAAA;AAAA,OAAA;AACA;AAxGA;AAjFA,CAAA","sourcesContent":["<template>\n  <div :class=\"{fullscreen:fullscreen}\" class=\"tinymce-container\" :style=\"{width:containerWidth}\">\n    <textarea :id=\"tinymceId\" class=\"tinymce-textarea\" />\n    <div class=\"editor-custom-btn-container\">\n      <editorImage color=\"#1890ff\" class=\"editor-upload-btn\" @successCBK=\"imageSuccessCBK\" />\n    </div>\n  </div>\n</template>\n\n<script>\n/**\n * docs:\n * https://panjiachen.github.io/vue-element-admin-site/feature/component/rich-editor.html#tinymce\n */\nimport editorImage from './components/EditorImage'\nimport plugins from './plugins'\nimport toolbar from './toolbar'\nimport load from './dynamicLoadScript'\n\n// why use this cdn, detail see https://github.com/PanJiaChen/tinymce-all-in-one\nconst tinymceCDN = 'https://cdn.jsdelivr.net/npm/tinymce-all-in-one@4.9.3/tinymce.min.js'\n\nexport default {\n  name: 'Tinymce',\n  components: { editorImage },\n  props: {\n    id: {\n      type: String,\n      default: function() {\n        return 'vue-tinymce-' + +new Date() + ((Math.random() * 1000).toFixed(0) + '')\n      }\n    },\n    value: {\n      type: String,\n      default: ''\n    },\n    toolbar: {\n      type: Array,\n      required: false,\n      default() {\n        return []\n      }\n    },\n    menubar: {\n      type: String,\n      default: 'file edit insert view format table'\n    },\n    height: {\n      type: [Number, String],\n      required: false,\n      default: 360\n    },\n    width: {\n      type: [Number, String],\n      required: false,\n      default: 'auto'\n    }\n  },\n  data() {\n    return {\n      hasChange: false,\n      hasInit: false,\n      tinymceId: this.id,\n      fullscreen: false,\n      languageTypeList: {\n        'en': 'en',\n        'zh': 'zh_CN',\n        'es': 'es_MX',\n        'ja': 'ja'\n      }\n    }\n  },\n  computed: {\n    containerWidth() {\n      const width = this.width\n      if (/^[\\d]+(\\.[\\d]+)?$/.test(width)) { // matches `100`, `'100'`\n        return `${width}px`\n      }\n      return width\n    }\n  },\n  watch: {\n    value(val) {\n      if (!this.hasChange && this.hasInit) {\n        this.$nextTick(() =>\n          window.tinymce.get(this.tinymceId).setContent(val || ''))\n      }\n    }\n  },\n  mounted() {\n    this.init()\n  },\n  activated() {\n    if (window.tinymce) {\n      this.initTinymce()\n    }\n  },\n  deactivated() {\n    this.destroyTinymce()\n  },\n  destroyed() {\n    this.destroyTinymce()\n  },\n  methods: {\n    init() {\n      // dynamic load tinymce from cdn\n      load(tinymceCDN, (err) => {\n        if (err) {\n          this.$message.error(err.message)\n          return\n        }\n        this.initTinymce()\n      })\n    },\n    initTinymce() {\n      const _this = this\n      window.tinymce.init({\n        selector: `#${this.tinymceId}`,\n        language: this.languageTypeList['en'],\n        height: this.height,\n        body_class: 'panel-body ',\n        object_resizing: false,\n        toolbar: this.toolbar.length > 0 ? this.toolbar : toolbar,\n        menubar: this.menubar,\n        plugins: plugins,\n        end_container_on_empty_block: true,\n        powerpaste_word_import: 'clean',\n        code_dialog_height: 450,\n        code_dialog_width: 1000,\n        advlist_bullet_styles: 'square',\n        advlist_number_styles: 'default',\n        imagetools_cors_hosts: ['www.tinymce.com', 'codepen.io'],\n        default_link_target: '_blank',\n        link_title: false,\n        nonbreaking_force_tab: true, // inserting nonbreaking space &nbsp; need Nonbreaking Space Plugin\n        init_instance_callback: editor => {\n          if (_this.value) {\n            editor.setContent(_this.value)\n          }\n          _this.hasInit = true\n          editor.on('NodeChange Change KeyUp SetContent', () => {\n            this.hasChange = true\n            this.$emit('input', editor.getContent())\n          })\n        },\n        setup(editor) {\n          editor.on('FullscreenStateChanged', (e) => {\n            _this.fullscreen = e.state\n          })\n        },\n        // it will try to keep these URLs intact\n        // https://www.tiny.cloud/docs-3x/reference/configuration/Configuration3x@convert_urls/\n        // https://stackoverflow.com/questions/5196205/disable-tinymce-absolute-to-relative-url-conversions\n        convert_urls: false\n        // 整合七牛上传\n        // images_dataimg_filter(img) {\n        //   setTimeout(() => {\n        //     const $image = $(img);\n        //     $image.removeAttr('width');\n        //     $image.removeAttr('height');\n        //     if ($image[0].height && $image[0].width) {\n        //       $image.attr('data-wscntype', 'image');\n        //       $image.attr('data-wscnh', $image[0].height);\n        //       $image.attr('data-wscnw', $image[0].width);\n        //       $image.addClass('wscnph');\n        //     }\n        //   }, 0);\n        //   return img\n        // },\n        // images_upload_handler(blobInfo, success, failure, progress) {\n        //   progress(0);\n        //   const token = _this.$store.getters.token;\n        //   getToken(token).then(response => {\n        //     const url = response.data.qiniu_url;\n        //     const formData = new FormData();\n        //     formData.append('token', response.data.qiniu_token);\n        //     formData.append('key', response.data.qiniu_key);\n        //     formData.append('file', blobInfo.blob(), url);\n        //     upload(formData).then(() => {\n        //       success(url);\n        //       progress(100);\n        //     })\n        //   }).catch(err => {\n        //     failure('出现未知问题，刷新页面，或者联系程序员')\n        //     console.log(err);\n        //   });\n        // },\n      })\n    },\n    destroyTinymce() {\n      const tinymce = window.tinymce.get(this.tinymceId)\n      if (this.fullscreen) {\n        tinymce.execCommand('mceFullScreen')\n      }\n\n      if (tinymce) {\n        tinymce.destroy()\n      }\n    },\n    setContent(value) {\n      window.tinymce.get(this.tinymceId).setContent(value)\n    },\n    getContent() {\n      window.tinymce.get(this.tinymceId).getContent()\n    },\n    imageSuccessCBK(arr) {\n      arr.forEach(v => window.tinymce.get(this.tinymceId).insertContent(`<img class=\"wscnph\" src=\"${v.url}\" >`))\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.tinymce-container {\n  position: relative;\n  line-height: normal;\n}\n\n.tinymce-container {\n  ::v-deep {\n    .mce-fullscreen {\n      z-index: 10000;\n    }\n  }\n}\n\n.tinymce-textarea {\n  visibility: hidden;\n  z-index: -1;\n}\n\n.editor-custom-btn-container {\n  position: absolute;\n  right: 4px;\n  top: 4px;\n  /*z-index: 2005;*/\n}\n\n.fullscreen .editor-custom-btn-container {\n  z-index: 10000;\n  position: fixed;\n}\n\n.editor-upload-btn {\n  display: inline-block;\n}\n</style>\n"],"sourceRoot":"src/components/Tinymce"}]}